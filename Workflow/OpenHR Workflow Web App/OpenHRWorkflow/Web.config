<?xml version="1.0" encoding="UTF-8"?>
<configuration>
	
	<appSettings configSource="web.custom.config" />
	<connectionStrings configSource="connectionStrings.config"/>  
	
	<system.web>
		<compilation debug="true" strict="true" explicit="true" targetFramework="4.0" />
		
		<authentication mode="Forms">
			<forms loginUrl="~/Account/Login.aspx" name="openhr.auth" defaultUrl="Home.aspx" />
		</authentication>
		
		<sessionState timeout="60" />
		
		<customErrors mode="RemoteOnly" />
		
		<pages controlRenderingCompatibilityVersion="3.5" clientIDMode="AutoID" />
	
		<httpRuntime enableVersionHeader="false"/>
	</system.web>
 
	<system.webServer>
		<modules runAllManagedModulesForAllRequests="true" />
		<httpProtocol>
			<customHeaders>
				<remove name="X-Powered-By" />
        <add name="X-Content-Type-Options" value="nosniff" />
				<add name="X-XSS-Protection" value="1; mode=block"/>
        <add name="X-Frame-Options" value="SameOrigin" /> 
			</customHeaders>
		</httpProtocol>
		<!--Handler registration for II7+-->
		<handlers>
			<add verb="GET" path="Image.ashx" name="ImageHandler" type="OpenHRWorkflow.ImageHandler, OpenHRWorkflow" />
		</handlers>
		<!--Turn off config validation as it will fail on the II6 httpHandler registration section in system.web-->
		<validation validateIntegratedModeConfiguration="false" />
		
		<staticContent>
			<clientCache cacheControlMode="UseMaxAge" cacheControlMaxAge="30.00:00:00" />
		</staticContent>
		
		<urlCompression doStaticCompression="true" doDynamicCompression="true" />
	</system.webServer>
	
	<location path="FileUpload.aspx">
		<system.web>
			<httpRuntime maxRequestLength="2097151" requestLengthDiskThreshold="8192" />
		</system.web>
	</location>
	
	<location path="Home.aspx">
		<system.web>
			<authorization>
				<deny users="?" />
			</authorization>
		</system.web>
	</location>
	
	<location path="PendingSteps.aspx">
		<system.web>
			<authorization>
				<deny users="?" />
			</authorization>
		</system.web>
	</location>	
</configuration>